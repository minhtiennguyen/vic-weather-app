(this["webpackJsonpvic-weather-app"]=this["webpackJsonpvic-weather-app"]||[]).push([[0],{17:function(e){e.exports=JSON.parse('[{"coord":{"lon":151.22,"lat":-33.85},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"base":"stations","main":{"temp":26.83,"feels_like":26.12,"temp_min":23.89,"temp_max":30,"pressure":1019,"humidity":44},"visibility":10000,"wind":{"speed":2.6,"deg":170},"clouds":{"all":0},"dt":1576804792,"sys":{"type":1,"id":9599,"country":"AU","sunrise":1576780812,"sunset":1576832666},"timezone":39600,"id":2147714,"name":"Sydney","cod":200},{"coord":{"lon":130.84,"lat":-12.46},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"http://openweathermap.org/img/wn/02d@2x.png"}],"base":"stations","main":{"temp":33.53,"feels_like":36.38,"temp_min":33,"temp_max":33.89,"pressure":1010,"humidity":55},"visibility":10000,"wind":{"speed":3.6,"deg":360},"clouds":{"all":20},"dt":1576804738,"sys":{"type":1,"id":9574,"country":"AU","sunrise":1576788490,"sunset":1576834773},"timezone":34200,"id":2073124,"name":"Darwin","cod":200},{"coord":{"lon":149.1,"lat":-35.3},"weather":[{"id":711,"main":"Smoke","description":"smoke","icon":"http://openweathermap.org/img/wn/50d@2x.png"}],"base":"stations","main":{"temp":31.78,"feels_like":25.14,"temp_min":31.11,"temp_max":32.78,"pressure":1018,"humidity":11},"visibility":6000,"wind":{"speed":6.2,"deg":340},"clouds":{"all":90},"dt":1576804934,"sys":{"type":1,"id":9588,"country":"AU","sunrise":1576781081,"sunset":1576833414},"timezone":39600,"id":2172517,"name":"Canberra","cod":200},{"coord":{"lon":144.96,"lat":-37.81},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"http://openweathermap.org/img/wn/01d@2x.png"}],"base":"stations","main":{"temp":37.77,"feels_like":31.18,"temp_min":35.56,"temp_max":40.56,"pressure":1011,"humidity":13},"visibility":10000,"wind":{"speed":7.7,"deg":350},"clouds":{"all":1},"dt":1576804932,"sys":{"type":1,"id":9548,"country":"AU","sunrise":1576781636,"sunset":1576834848},"timezone":39600,"id":2158177,"name":"Melbourne","cod":200},{"coord":{"lon":153.02,"lat":-27.47},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"http://openweathermap.org/img/wn/01d@2x.png"}],"base":"stations","main":{"temp":30.72,"feels_like":31.07,"temp_min":27.22,"temp_max":33.33,"pressure":1016,"humidity":40},"visibility":10000,"wind":{"speed":2.1,"deg":120},"clouds":{"all":0},"dt":1576804667,"sys":{"type":1,"id":9481,"country":"AU","sunrise":1576781332,"sunset":1576831282},"timezone":36000,"id":2174003,"name":"Brisbane","cod":200},{"coord":{"lon":138.6,"lat":-34.93},"weather":[{"id":761,"main":"Dust","description":"dust","icon":"http://openweathermap.org/img/wn/50d@2x.png"}],"base":"stations","main":{"temp":40.76,"feels_like":32.48,"temp_min":37.22,"temp_max":43.89,"pressure":1006,"humidity":13},"visibility":7000,"wind":{"speed":10.8,"deg":330,"gust":15.9},"clouds":{"all":0},"dt":1576804667,"sys":{"type":1,"id":9566,"country":"AU","sunrise":1576783664,"sunset":1576835873},"timezone":37800,"id":2078025,"name":"Adelaide","cod":200},{"coord":{"lon":115.86,"lat":-31.95},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"http://openweathermap.org/img/wn/03d@2x.png"}],"base":"stations","main":{"temp":21.54,"feels_like":20.81,"temp_min":21,"temp_max":22.22,"pressure":1018,"humidity":56},"visibility":10000,"wind":{"speed":2.1,"deg":150},"clouds":{"all":40},"dt":1576804666,"sys":{"type":1,"id":9586,"country":"AU","sunrise":1576789600,"sunset":1576840856},"timezone":28800,"id":2063523,"name":"Perth","cod":200},{"coord":{"lon":147.33,"lat":-42.88},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"http://openweathermap.org/img/wn/03d@2x.png"}],"base":"stations","main":{"temp":24.15,"feels_like":19.85,"temp_min":21.67,"temp_max":27.22,"pressure":1012,"humidity":33},"visibility":10000,"wind":{"speed":5.1,"deg":30},"clouds":{"all":40},"dt":1576804895,"sys":{"type":1,"id":9545,"country":"AU","sunrise":1576780056,"sunset":1576835290},"timezone":39600,"id":2163355,"name":"Hobart","cod":200}]')},20:function(e,t,a){e.exports=a(31)},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(4),r=a.n(s),c=a(5),l=(a(30),a(12)),o=a(13),m=a(18),d=a(14),u=a(19),p=a(33),h={apiKey:"c358e10315a94898142a5908ebcb11cd",apiUrl:"https://api.openweathermap.org/data/2.5/weather",imgUrl:"https://openweathermap.org/img/wn"},y=Object(p.a)("FETCH_WEATHER_SUCCESS"),E=Object(p.a)("FETCH_WEATHER_FAILED"),w=function(e){var t=e.city,a=e.selectCity;return i.a.createElement("div",{className:"weather-item",onClick:function(){return a(t.id)}},i.a.createElement("p",{className:"weather-city__name"},t.name))},g=function(e){var t=new Date(1e3*e),a=("0"+t.getHours()).slice(-2),n=("0"+t.getMinutes()).slice(-2);return"".concat(a,":").concat(n," ").concat(a>12?"PM":"AM")},_=function(e){var t=e.city;return i.a.createElement("div",{className:"main-city"},i.a.createElement("div",{className:"main-city_header"},i.a.createElement("h1",{className:"main-city__name"},t.name),i.a.createElement("span",{className:"main-city__icon"},i.a.createElement("img",{src:"".concat(h.imgUrl,"/").concat(t.weather[0].icon,"@2x.png"),alt:"weather-icon"})),i.a.createElement("span",{className:"main-city__desc"},t.weather[0].description),i.a.createElement("span",{className:"main-city__temp"},t.main.temp," \xb0C")),i.a.createElement("div",{className:"main-city__conditions"},i.a.createElement("div",{className:"main-city__info"},i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Sunrise")," ",i.a.createElement("br",null)," ",g(t.sys.sunrise)),i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Sunset")," ",i.a.createElement("br",null)," ",g(t.sys.sunset))),i.a.createElement("div",{className:"main-city__info"},i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Feels like")," ",i.a.createElement("br",null)," ",t.main.feels_like," \xb0C"),i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Humidity")," ",i.a.createElement("br",null)," ",t.main.humidity,"%")),i.a.createElement("div",{className:"main-city__info"},i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Wind")," ",i.a.createElement("br",null)," w ",t.wind.speed," km/h"),i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Wind Direction")," ",i.a.createElement("br",null)," ",t.wind.deg,"\xb0")),i.a.createElement("div",{className:"main-city__info"},i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Pressure")," ",i.a.createElement("br",null)," ",t.main.pressure," ","hPa"),i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Visibility")," ",i.a.createElement("br",null)," ",t.visibility/1e3," km"))))},v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={city:{id:2158177,name:"Melbourne"},unit:"metric"},a.selectCity=function(e){var t=a.state.unit;a.props.fetchWeather(e,t)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.city,a=e.unit;this.props.fetchWeather(t.id,a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.cities,s=t.isLoaded,r=t.hasError,c=a.findIndex((function(e){return!0===e.selected}));return i.a.createElement(n.Fragment,null,s?i.a.createElement(_,{city:a[c]}):i.a.createElement("div",{className:"spinner"},"loading..."),i.a.createElement("div",{className:"cities"},(a||[]).map((function(t){return i.a.createElement(w,{key:t.id,city:t,selectCity:e.selectCity})}))),r&&i.a.createElement("div",{className:"error"},"Something went wrong"))}}]),t}(n.Component),b={fetchWeather:function(e,t){return function(a){var n="".concat(h.apiUrl,"?id=").concat(e,"&APPID=").concat(h.apiKey,"&units=").concat(t);return a({type:"FETCH_WEATHER"}),fetch(n).then((function(e){return e.json()})).then((function(e){return a(y(e))}),(function(e){return a(E(e))}))}}},f=Object(c.b)((function(e){return{cities:e.weather.list,isLoaded:e.weather.isLoaded,hasError:e.weather.hasError}}),b)(v),N=function(){return i.a.createElement("div",{className:"app"},i.a.createElement(f,null))},k=a(2),C=a(15),x=a(16),A=a(9),j=a(17).map((function(e){return{id:e.id,name:e.name,selected:!1}})),H=function(e,t){var a=e.list;a.map((function(e){return e.selected=!1}));var n=a.findIndex((function(e){return e.id===t.payload.id}));return a[n]=t.payload,a[n].selected=!0,a[n].loaded=!0,{list:a,isLoaded:!0}},O={list:j,isLoaded:!1,hasError:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER":return Object(A.a)({},e,{isLoaded:!1,hasError:!1});case"FETCH_WEATHER_SUCCESS":return H(e,t);case"FETCH_WEATHER_FAILED":return Object(A.a)({},e,{isLoaded:!0,hasError:!0,error:t.payload});default:return e}},W=Object(k.combineReducers)({weather:U}),S=Object(k.createStore)(W,Object(C.composeWithDevTools)(Object(k.applyMiddleware)(x.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=i.a.createElement(c.a,{store:S},i.a.createElement(N,null));r.a.render(T,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.d58541e7.chunk.js.map