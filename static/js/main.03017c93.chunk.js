(this["webpackJsonpvic-weather-app"]=this["webpackJsonpvic-weather-app"]||[]).push([[0],{19:function(e){e.exports=JSON.parse('[{"coord":{"lon":151.22,"lat":-33.85},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"base":"stations","main":{"temp":26.83,"feels_like":26.12,"temp_min":23.89,"temp_max":30,"pressure":1019,"humidity":44},"visibility":10000,"wind":{"speed":2.6,"deg":170},"clouds":{"all":0},"dt":1576804792,"sys":{"type":1,"id":9599,"country":"AU","sunrise":1576780812,"sunset":1576832666},"timezone":39600,"id":2147714,"name":"Sydney","cod":200},{"coord":{"lon":130.84,"lat":-12.46},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"http://openweathermap.org/img/wn/02d@2x.png"}],"base":"stations","main":{"temp":33.53,"feels_like":36.38,"temp_min":33,"temp_max":33.89,"pressure":1010,"humidity":55},"visibility":10000,"wind":{"speed":3.6,"deg":360},"clouds":{"all":20},"dt":1576804738,"sys":{"type":1,"id":9574,"country":"AU","sunrise":1576788490,"sunset":1576834773},"timezone":34200,"id":2073124,"name":"Darwin","cod":200},{"coord":{"lon":149.1,"lat":-35.3},"weather":[{"id":711,"main":"Smoke","description":"smoke","icon":"http://openweathermap.org/img/wn/50d@2x.png"}],"base":"stations","main":{"temp":31.78,"feels_like":25.14,"temp_min":31.11,"temp_max":32.78,"pressure":1018,"humidity":11},"visibility":6000,"wind":{"speed":6.2,"deg":340},"clouds":{"all":90},"dt":1576804934,"sys":{"type":1,"id":9588,"country":"AU","sunrise":1576781081,"sunset":1576833414},"timezone":39600,"id":2172517,"name":"Canberra","cod":200},{"coord":{"lon":144.96,"lat":-37.81},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"http://openweathermap.org/img/wn/01d@2x.png"}],"base":"stations","main":{"temp":37.77,"feels_like":31.18,"temp_min":35.56,"temp_max":40.56,"pressure":1011,"humidity":13},"visibility":10000,"wind":{"speed":7.7,"deg":350},"clouds":{"all":1},"dt":1576804932,"sys":{"type":1,"id":9548,"country":"AU","sunrise":1576781636,"sunset":1576834848},"timezone":39600,"id":2158177,"name":"Melbourne","cod":200},{"coord":{"lon":153.02,"lat":-27.47},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"http://openweathermap.org/img/wn/01d@2x.png"}],"base":"stations","main":{"temp":30.72,"feels_like":31.07,"temp_min":27.22,"temp_max":33.33,"pressure":1016,"humidity":40},"visibility":10000,"wind":{"speed":2.1,"deg":120},"clouds":{"all":0},"dt":1576804667,"sys":{"type":1,"id":9481,"country":"AU","sunrise":1576781332,"sunset":1576831282},"timezone":36000,"id":2174003,"name":"Brisbane","cod":200},{"coord":{"lon":138.6,"lat":-34.93},"weather":[{"id":761,"main":"Dust","description":"dust","icon":"http://openweathermap.org/img/wn/50d@2x.png"}],"base":"stations","main":{"temp":40.76,"feels_like":32.48,"temp_min":37.22,"temp_max":43.89,"pressure":1006,"humidity":13},"visibility":7000,"wind":{"speed":10.8,"deg":330,"gust":15.9},"clouds":{"all":0},"dt":1576804667,"sys":{"type":1,"id":9566,"country":"AU","sunrise":1576783664,"sunset":1576835873},"timezone":37800,"id":2078025,"name":"Adelaide","cod":200},{"coord":{"lon":115.86,"lat":-31.95},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"http://openweathermap.org/img/wn/03d@2x.png"}],"base":"stations","main":{"temp":21.54,"feels_like":20.81,"temp_min":21,"temp_max":22.22,"pressure":1018,"humidity":56},"visibility":10000,"wind":{"speed":2.1,"deg":150},"clouds":{"all":40},"dt":1576804666,"sys":{"type":1,"id":9586,"country":"AU","sunrise":1576789600,"sunset":1576840856},"timezone":28800,"id":2063523,"name":"Perth","cod":200},{"coord":{"lon":147.33,"lat":-42.88},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"http://openweathermap.org/img/wn/03d@2x.png"}],"base":"stations","main":{"temp":24.15,"feels_like":19.85,"temp_min":21.67,"temp_max":27.22,"pressure":1012,"humidity":33},"visibility":10000,"wind":{"speed":5.1,"deg":30},"clouds":{"all":40},"dt":1576804895,"sys":{"type":1,"id":9545,"country":"AU","sunrise":1576780056,"sunset":1576835290},"timezone":39600,"id":2163355,"name":"Hobart","cod":200}]')},20:function(e,t,a){e.exports=a(31)},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(4),c=a.n(r),s=a(8),l=(a(30),a(5)),o=a(6),m=a(9),d=a(7),u=a(10),p=a(33),h={apiKey:"c358e10315a94898142a5908ebcb11cd",apiUrl:"https://api.openweathermap.org/data/2.5/weather",imgUrl:"https://openweathermap.org/img/wn"},y=Object(p.a)("FETCH_WEATHER_SUCCESS"),E=Object(p.a)("FETCH_WEATHER_FAILED"),g=(Object(p.a)("SELECT_MAIN_CITY"),function(e){var t=e.city,a=e.selectCity,n=e.isMain;return i.a.createElement("div",{className:"weather-item ".concat(n&&"weather-item--selected"),onClick:function(){return a(t.id)}},i.a.createElement("p",{className:"weather-city__name"},t.name))}),w=function(e){var t=new Date(1e3*e),a=("0"+t.getHours()).slice(-2),n=("0"+t.getMinutes()).slice(-2);return"".concat(a%12?a:12,":").concat(n," ").concat(a>12?"PM":"AM")},v=function(e,t){return"imperial"===e?"".concat((9*t/5+32).toFixed(2)," F"):"".concat(t," C")},_=function(e){var t=e.city,a=e.unit;return i.a.createElement("div",{className:"main-city"},i.a.createElement("div",{className:"main-city_header"},i.a.createElement("h1",{className:"main-city__name"},t.name),i.a.createElement("span",{className:"main-city__icon"},i.a.createElement("img",{src:"".concat(h.imgUrl,"/").concat(t.weather[0].icon,"@2x.png"),alt:"weather-icon"})),i.a.createElement("span",{className:"main-city__desc"},t.weather[0].description),i.a.createElement("span",{className:"main-city__temp"},v(a,t.main.temp),"\xb0")),i.a.createElement("div",{className:"main-city__conditions"},i.a.createElement("div",{className:"main-city__info main-city__info--no-border"},i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Local Time")," ",i.a.createElement("br",null)," ",function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear(),i=e.getHours(),r=i>=12?"PM":"AM",c=e.getMinutes();return"".concat(t,"/").concat(a,"/").concat(n," - ").concat(i,":").concat(c," ").concat(r)}())),i.a.createElement("div",{className:"main-city__info"},i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Min")," ",i.a.createElement("br",null)," ",v(a,t.main.temp_min),"\xb0"),i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Max")," ",i.a.createElement("br",null)," ",v(a,t.main.temp_max),"\xb0")),i.a.createElement("div",{className:"main-city__info"},i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Sunrise")," ",i.a.createElement("br",null)," ",w(t.sys.sunrise)),i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Sunset")," ",i.a.createElement("br",null)," ",w(t.sys.sunset))),i.a.createElement("div",{className:"main-city__info"},i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Feels like")," ",i.a.createElement("br",null)," ",v(a,t.main.feels_like)," \xb0C"),i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Humidity")," ",i.a.createElement("br",null)," ",t.main.humidity,"%")),i.a.createElement("div",{className:"main-city__info"},i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Wind")," ",i.a.createElement("br",null)," w ",t.wind.speed," km/h"),i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Wind Direction")," ",i.a.createElement("br",null)," ",t.wind.deg,"\xb0")),i.a.createElement("div",{className:"main-city__info"},i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Pressure")," ",i.a.createElement("br",null)," ",t.main.pressure," ","hPa"),i.a.createElement("div",null,i.a.createElement("span",{className:"heading"},"Visibility")," ",i.a.createElement("br",null)," ",t.visibility/1e3," km"))))},f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={checked:!1},a.handleChange=function(e){a.setState((function(e){return{checked:!e.checked}})),a.props.changeUnit(e.target.value)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.checked;return i.a.createElement("form",{style:{textAlign:"center"}},i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:"celsius",onChange:this.handleChange,checked:!e,value:"metric"}),"C\xb0"),i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:"fahrenheit",onChange:this.handleChange,checked:e,value:"imperial"}),"F\xb0"))}}]),t}(n.Component),b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={city:{id:2158177},unit:"metric"},a.selectCity=function(e){var t=a.state.unit;a.props.fetchWeather(e,t),a.setState({city:{id:e}})},a.changeTempUnit=function(e){a.setState({unit:e})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.city,a=e.unit;this.props.fetchWeather(t.id,a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.cities,r=t.isLoaded,c=t.hasError,s=this.state.unit,l=a.findIndex((function(e){return!0===e.selected}));return i.a.createElement(n.Fragment,null,r?i.a.createElement(_,{city:a[l],unit:s}):i.a.createElement("div",{className:"spinner"},"loading..."),i.a.createElement(f,{changeUnit:this.changeTempUnit}),i.a.createElement("div",{className:"cities"},(a||[]).map((function(t){return i.a.createElement(g,{key:t.id,city:t,selectCity:e.selectCity,isMain:t.id===e.state.city.id})}))),c&&i.a.createElement("div",{className:"error"},"Something went wrong"))}}]),t}(n.Component),C={fetchWeather:function(e,t){return function(a){var n="".concat(h.apiUrl,"?id=").concat(e,"&APPID=").concat(h.apiKey,"&units=").concat(t);return a({type:"FETCH_WEATHER"}),fetch(n).then((function(e){return e.json()})).then((function(e){return a(y(e))}),(function(e){return a(E(e))}))}}},k=Object(s.b)((function(e){return{cities:e.weather.list,isLoaded:e.weather.isLoaded,hasError:e.weather.hasError}}),C)(b),N=function(){return i.a.createElement("div",{className:"app"},i.a.createElement(k,null))},x=a(2),A=a(17),j=a(18),O=a(14),S=a(19).map((function(e){return{id:e.id,name:e.name,selected:!1}})),T=function(e,t){var a=e.list,n=a.findIndex((function(e){return e.id===t.payload.id}));return a[n]=t.payload,a[n].selected=!0,a[n].loaded=!0,{list:a,isLoaded:!0}},U={list:S,isLoaded:!1,hasError:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WEATHER":return Object(O.a)({},e,{isLoaded:!1,hasError:!1});case"FETCH_WEATHER_SUCCESS":return T(e,t);case"FETCH_WEATHER_FAILED":return Object(O.a)({},e,{isLoaded:!0,hasError:!0,error:t.payload});default:return e}},M=Object(x.combineReducers)({weather:H}),F=Object(x.createStore)(M,Object(A.composeWithDevTools)(Object(x.applyMiddleware)(j.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=i.a.createElement(s.a,{store:F},i.a.createElement(N,null));c.a.render(W,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.03017c93.chunk.js.map